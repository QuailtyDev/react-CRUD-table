{"ast":null,"code":"var _jsxFileName = \"/media/ted/New Volume/react exercise/react-full-table-functionality/full-react-table-functionality/src/components/PersonLists.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { AppContext } from './Context';\nconst initialPerson = [{\n  id: 0,\n  fname: 'Tedros',\n  lname: 'Tesfay',\n  age: 30\n}, {\n  id: 1,\n  fname: 'aaa',\n  lname: 'BBB',\n  age: 30\n}, {\n  id: 2,\n  fname: 'CCC',\n  lname: 'DDD',\n  age: 30\n}, {\n  id: 3,\n  fname: 'EEE',\n  lname: 'Tesfay',\n  age: 30\n}];\nexport default function PersonLists() {\n  const [searchByFName, setSearchByFName] = useState('');\n  const [searchByLName, setSearchByLName] = useState('');\n  const [searchByAge, setSearchByAge] = useState(0);\n  const [sortToggle, setSortToggle] = useState(true);\n  const [sortIcon, setSortIcon] = useState(true);\n  const [person, setPerson, personFinal, setPersonFinal, fname, setFname, lname, setLname, age, setAge, addNewPerson, editPerson, deletePesron, saveToggle, cancelUpdate, cancelBtn] = useContext(AppContext);\n\n  const handleFname = e => {\n    setFname(e.target.value);\n  };\n\n  const handelLname = e => {\n    setLname(e.target.value);\n  };\n\n  const handelAge = e => {\n    setAge(e.target.value);\n  };\n\n  const handleSearchByName = e => {\n    // alert(e.target.id)\n    if (e.target.id == \"searchfname\") setSearchByFName(e.target.value);\n    if (e.target.id == \"searchlname\") setSearchByLName(e.target.value);\n    if (e.target.id == \"searchage\") setSearchByAge(e.target.value);\n  };\n\n  const handleFilter = e => {\n    //alert(e.target.id)\n    console.log(personFinal);\n\n    if (e.target.value == \"\") {\n      setPerson(personFinal);\n      return;\n    }\n\n    let filteredPersons;\n\n    switch (e.target.id) {\n      case \"searchfname\":\n        filteredPersons = personFinal.filter(item => item.fname.includes(e.target.value));\n        break;\n\n      case \"searchlname\":\n        filteredPersons = personFinal.filter(item => item.lname.includes(e.target.value));\n        break;\n\n      case \"searchage\":\n        filteredPersons = personFinal.filter(item => item.age == e.target.value);\n        break;\n    }\n\n    setPerson(filteredPersons);\n  };\n\n  const sortPersonList = feildName => {\n    let sortedData;\n    setSortToggle(!sortToggle);\n    setSortIcon(!sortIcon);\n\n    if (sortToggle == true) {\n      if (feildName === 'age') sortedData = person.sort((a, b) => Number(a[feildName]) > Number(b[feildName]) ? 1 : -1);else sortedData = person.sort((a, b) => a[feildName].toUpperCase() > b[feildName].toUpperCase() ? 1 : -1); //sortedData=person.sort((a, b)=> a.fname - b.fname)\n    }\n\n    if (sortToggle == false) {\n      if (feildName === 'age') sortedData = person.sort((a, b) => Number(a[feildName]) < Number(b[feildName]) ? 1 : -1);else sortedData = person.sort((a, b) => a[feildName].toUpperCase() < b[feildName].toUpperCase() ? 1 : -1); //sortedData=person.sort((a, b)=> b.fname - a.fname)\n    }\n\n    setPerson(sortedData);\n  }; // to do side effect when Dom changes \n\n\n  useEffect(() => {\n    //call it later after performing the DOM updates.\n    //By default, it runs both after the first render and after every update.\n    //Mounting, Rendering or    after render\n    setPerson(person); // React performs the cleanup when the component unmounts.\n\n    return () => {// document.getElementById('searchfname').removeEventListener(\"keyup\", handlechange)\n      //setPerson(person)\n    };\n  }, [person, sortToggle]);\n  useEffect(() => {\n    document.getElementById('searchfname').addEventListener(\"keyup\", handleFilter);\n    document.getElementById('searchlname').addEventListener(\"keyup\", handleFilter);\n    document.getElementById('searchage').addEventListener(\"keyup\", handleFilter);\n    return () => {\n      document.getElementById('searchfname').removeEventListener(\"keyup\", handleFilter);\n      document.getElementById('searchlname').removeEventListener(\"keyup\", handleFilter);\n      document.getElementById('searchage').removeEventListener(\"keyup\", handleFilter);\n    };\n  }, [searchByFName]);\n  useEffect(() => {\n    setPerson(initialPerson);\n    console.log(person.slice(0, 2));\n    console.log(person);\n    console.log(cancelBtn);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 14\n    }\n  }, \"React Table with Full Functionality\"), /*#__PURE__*/React.createElement(\"table\", {\n    border: \"1\",\n    width: \"100px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => sortPersonList('fname'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: `fa fa-sort-${sortIcon ? 'asc' : 'desc'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 71\n    }\n  }), \"Fname\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => sortPersonList('lname'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: `fa fa-sort-${sortIcon ? 'asc' : 'desc'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 71\n    }\n  }), \"Lname\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => sortPersonList('age'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: `fa fa-sort-${sortIcon ? 'asc' : 'desc'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 69\n    }\n  }), \"Age\"))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"searchfname\",\n    name: \"searchfname\",\n    value: searchByFName,\n    onChange: handleSearchByName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"searchlname\",\n    name: \"searchlname\",\n    value: searchByLName,\n    onChange: handleSearchByName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"searchage\",\n    name: \"searchage\",\n    value: searchByAge,\n    onChange: handleSearchByName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }))), console.log(person), person.map((item, key) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    id: \"fname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, item.fname), /*#__PURE__*/React.createElement(\"td\", {\n    id: \"lname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 25\n    }\n  }, item.lname), /*#__PURE__*/React.createElement(\"td\", {\n    id: \"age\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  }, item.age), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => editPerson(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, \"Edit\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: \"Delete\",\n    onClick: () => deletePesron(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"fname\",\n    value: fname,\n    onChange: handleFname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 26\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"lname\",\n    value: lname,\n    onChange: handelLname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"age\",\n    value: age,\n    onChange: handelAge,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    id: \"add\",\n    value: saveToggle ? 'Update' : 'Add Person',\n    onClick: addNewPerson,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 24\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: \"Cancel Update\",\n    onClick: cancelUpdate,\n    disabled: cancelBtn ? 'true' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 24\n    }\n  })))));\n}","map":{"version":3,"sources":["/media/ted/New Volume/react exercise/react-full-table-functionality/full-react-table-functionality/src/components/PersonLists.js"],"names":["React","useState","useEffect","useContext","v4","uuidv4","AppContext","initialPerson","id","fname","lname","age","PersonLists","searchByFName","setSearchByFName","searchByLName","setSearchByLName","searchByAge","setSearchByAge","sortToggle","setSortToggle","sortIcon","setSortIcon","person","setPerson","personFinal","setPersonFinal","setFname","setLname","setAge","addNewPerson","editPerson","deletePesron","saveToggle","cancelUpdate","cancelBtn","handleFname","e","target","value","handelLname","handelAge","handleSearchByName","handleFilter","console","log","filteredPersons","filter","item","includes","sortPersonList","feildName","sortedData","sort","a","b","Number","toUpperCase","document","getElementById","addEventListener","removeEventListener","slice","map","key"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AACA,SAAQC,UAAR,QAAyB,WAAzB;AAGA,MAAMC,aAAa,GAAC,CAChB;AAACC,EAAAA,EAAE,EAAC,CAAJ;AAAOC,EAAAA,KAAK,EAAC,QAAb;AAAuBC,EAAAA,KAAK,EAAC,QAA7B;AAAuCC,EAAAA,GAAG,EAAC;AAA3C,CADgB,EAEhB;AAACH,EAAAA,EAAE,EAAC,CAAJ;AAAOC,EAAAA,KAAK,EAAC,KAAb;AAAoBC,EAAAA,KAAK,EAAC,KAA1B;AAAiCC,EAAAA,GAAG,EAAC;AAArC,CAFgB,EAGhB;AAACH,EAAAA,EAAE,EAAC,CAAJ;AAAOC,EAAAA,KAAK,EAAC,KAAb;AAAoBC,EAAAA,KAAK,EAAC,KAA1B;AAAiCC,EAAAA,GAAG,EAAC;AAArC,CAHgB,EAIhB;AAACH,EAAAA,EAAE,EAAC,CAAJ;AAAOC,EAAAA,KAAK,EAAC,KAAb;AAAoBC,EAAAA,KAAK,EAAC,QAA1B;AAAoCC,EAAAA,GAAG,EAAC;AAAxC,CAJgB,CAApB;AAOA,eAAe,SAASC,WAAT,GAAuB;AAElC,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAkCb,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACc,aAAD,EAAgBC,gBAAhB,IAAkCf,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACgB,WAAD,EAAcC,cAAd,IAA8BjB,QAAQ,CAAC,CAAD,CAA5C;AACA,QAAM,CAACkB,UAAD,EAAaC,aAAb,IAA4BnB,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACoB,QAAD,EAAWC,WAAX,IAAwBrB,QAAQ,CAAC,IAAD,CAAtC;AAEA,QAAM,CAACsB,MAAD,EAASC,SAAT,EAAoBC,WAApB,EAAiCC,cAAjC,EAAiDjB,KAAjD,EAAwDkB,QAAxD,EAAiEjB,KAAjE,EAAwEkB,QAAxE,EAAiFjB,GAAjF,EAAqFkB,MAArF,EACNC,YADM,EACQC,UADR,EACoBC,YADpB,EACkCC,UADlC,EAC8CC,YAD9C,EAC4DC,SAD5D,IACuEhC,UAAU,CAACG,UAAD,CADvF;;AAIA,QAAM8B,WAAW,GAACC,CAAC,IAAE;AACjBV,IAAAA,QAAQ,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACH,GAFD;;AAIA,QAAMC,WAAW,GAACH,CAAC,IAAE;AACjBT,IAAAA,QAAQ,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACH,GAFD;;AAGA,QAAME,SAAS,GAACJ,CAAC,IAAE;AACfR,IAAAA,MAAM,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN;AACH,GAFD;;AAIA,QAAOG,kBAAkB,GAAEL,CAAD,IAAK;AAC5B;AACC,QAAGA,CAAC,CAACC,MAAF,CAAS9B,EAAT,IAAa,aAAhB,EACAM,gBAAgB,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB;AAEA,QAAGF,CAAC,CAACC,MAAF,CAAS9B,EAAT,IAAa,aAAhB,EACAQ,gBAAgB,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB;AAEA,QAAGF,CAAC,CAACC,MAAF,CAAS9B,EAAT,IAAa,WAAhB,EACAU,cAAc,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd;AAEH,GAXD;;AAaA,QAAOI,YAAY,GAAEN,CAAD,IAAK;AACjB;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAYpB,WAAZ;;AACA,QAAGY,CAAC,CAACC,MAAF,CAASC,KAAT,IAAgB,EAAnB,EAAsB;AAClBf,MAAAA,SAAS,CAACC,WAAD,CAAT;AACA;AACH;;AACD,QAAIqB,eAAJ;;AACA,YAAOT,CAAC,CAACC,MAAF,CAAS9B,EAAhB;AACI,WAAK,aAAL;AACIsC,QAAAA,eAAe,GAAErB,WAAW,CAACsB,MAAZ,CAAmBC,IAAI,IAAEA,IAAI,CAACvC,KAAL,CAAWwC,QAAX,CAAoBZ,CAAC,CAACC,MAAF,CAASC,KAA7B,CAAzB,CAAjB;AACA;;AACJ,WAAK,aAAL;AACIO,QAAAA,eAAe,GAAErB,WAAW,CAACsB,MAAZ,CAAmBC,IAAI,IAAEA,IAAI,CAACtC,KAAL,CAAWuC,QAAX,CAAoBZ,CAAC,CAACC,MAAF,CAASC,KAA7B,CAAzB,CAAjB;AACA;;AACJ,WAAK,WAAL;AACIO,QAAAA,eAAe,GAAErB,WAAW,CAACsB,MAAZ,CAAmBC,IAAI,IAAEA,IAAI,CAACrC,GAAL,IAAU0B,CAAC,CAACC,MAAF,CAASC,KAA5C,CAAjB;AACA;AATR;;AAWAf,IAAAA,SAAS,CAACsB,eAAD,CAAT;AACP,GApBD;;AAuBA,QAAMI,cAAc,GAAEC,SAAD,IAAa;AAC9B,QAAKC,UAAL;AACAhC,IAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACAG,IAAAA,WAAW,CAAC,CAACD,QAAF,CAAX;;AACA,QAAGF,UAAU,IAAE,IAAf,EAAoB;AAChB,UAAGgC,SAAS,KAAG,KAAf,EACAC,UAAU,GAAE7B,MAAM,CAAC8B,IAAP,CAAY,CAACC,CAAD,EAAIC,CAAJ,KAAWC,MAAM,CAACF,CAAC,CAACH,SAAD,CAAF,CAAN,GAAuBK,MAAM,CAACD,CAAC,CAACJ,SAAD,CAAF,CAA9B,GAAgD,CAAhD,GAAoD,CAAC,CAA3E,CAAZ,CADA,KAGAC,UAAU,GAAE7B,MAAM,CAAC8B,IAAP,CAAY,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACH,SAAD,CAAD,CAAaM,WAAb,KAA6BF,CAAC,CAACJ,SAAD,CAAD,CAAaM,WAAb,EAA9B,GAA4D,CAA5D,GAAgE,CAAC,CAAvF,CAAZ,CAJgB,CAKnB;AACA;;AAEF,QAAGtC,UAAU,IAAE,KAAf,EAAqB;AACpB,UAAGgC,SAAS,KAAG,KAAf,EACAC,UAAU,GAAE7B,MAAM,CAAC8B,IAAP,CAAY,CAACC,CAAD,EAAIC,CAAJ,KAAWC,MAAM,CAACF,CAAC,CAACH,SAAD,CAAF,CAAN,GAAuBK,MAAM,CAACD,CAAC,CAACJ,SAAD,CAAF,CAA9B,GAAgD,CAAhD,GAAoD,CAAC,CAA3E,CAAZ,CADA,KAGAC,UAAU,GAAE7B,MAAM,CAAC8B,IAAP,CAAY,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACH,SAAD,CAAD,CAAaM,WAAb,KAA6BF,CAAC,CAACJ,SAAD,CAAD,CAAaM,WAAb,EAA9B,GAA4D,CAA5D,GAAgE,CAAC,CAAvF,CAAZ,CAJoB,CAKpB;AACA;;AACAjC,IAAAA,SAAS,CAAC4B,UAAD,CAAT;AACH,GApBD,CA3DkC,CAqF1B;;;AACAlD,EAAAA,SAAS,CAAC,MAAI;AAEd;AACA;AACA;AACAsB,IAAAA,SAAS,CAACD,MAAD,CAAT,CALc,CAOd;;AACA,WAAM,MAAI,CACN;AACC;AACJ,KAHD;AAIH,GAZY,EAYX,CAACA,MAAD,EAASJ,UAAT,CAZW,CAAT;AAcJjB,EAAAA,SAAS,CAAC,MAAM;AAEZwD,IAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,gBAAvC,CAAwD,OAAxD,EAAiEjB,YAAjE;AACAe,IAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,gBAAvC,CAAwD,OAAxD,EAAiEjB,YAAjE;AACAe,IAAAA,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,gBAArC,CAAsD,OAAtD,EAA+DjB,YAA/D;AAEA,WAAO,MAAM;AACZe,MAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCE,mBAAvC,CAA2D,OAA3D,EAAoElB,YAApE;AACAe,MAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCE,mBAAvC,CAA2D,OAA3D,EAAoElB,YAApE;AACAe,MAAAA,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCE,mBAArC,CAAyD,OAAzD,EAAkElB,YAAlE;AAEA,KALD;AAMH,GAZQ,EAYN,CAAC9B,aAAD,CAZM,CAAT;AAcAX,EAAAA,SAAS,CAAC,MAAI;AACVsB,IAAAA,SAAS,CAACjB,aAAD,CAAT;AACAqC,IAAAA,OAAO,CAACC,GAAR,CAAYtB,MAAM,CAACuC,KAAP,CAAa,CAAb,EAAe,CAAf,CAAZ;AACAlB,IAAAA,OAAO,CAACC,GAAR,CAAYtB,MAAZ;AACAqB,IAAAA,OAAO,CAACC,GAAR,CAAYV,SAAZ;AACH,GALQ,EAKP,EALO,CAAT;AAQJ,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CADL,eAGK;AAAO,IAAA,MAAM,EAAC,GAAd;AAAkB,IAAA,KAAK,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAQ,IAAA,OAAO,EAAE,MAAIe,cAAc,CAAC,OAAD,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA8C;AAAG,IAAA,KAAK,EAAG,cAAa7B,QAAQ,GAAE,KAAF,GAAU,MAAO,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA9C,UAAJ,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAQ,IAAA,OAAO,EAAE,MAAI6B,cAAc,CAAC,OAAD,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA8C;AAAG,IAAA,KAAK,EAAG,cAAa7B,QAAQ,GAAE,KAAF,GAAU,MAAO,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA9C,UAAJ,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAQ,IAAA,OAAO,EAAE,MAAI6B,cAAc,CAAC,KAAD,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA4C;AAAG,IAAA,KAAK,EAAG,cAAa7B,QAAQ,GAAE,KAAF,GAAU,MAAO,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA5C,QAAJ,CAHJ,CADH,eAMG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAM;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,EAAE,EAAC,aAAtB;AAAoC,IAAA,IAAI,EAAC,aAAzC;AAAuD,IAAA,KAAK,EAAER,aAA9D;AAA6E,IAAA,QAAQ,EAAE6B,kBAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAN,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,EAAE,EAAC,aAAtB;AAAoC,IAAA,IAAI,EAAC,aAAzC;AAAuD,IAAA,KAAK,EAAE3B,aAA9D;AAA6E,IAAA,QAAQ,EAAE2B,kBAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,EAAE,EAAC,WAAtB;AAAkC,IAAA,IAAI,EAAC,WAAvC;AAAmD,IAAA,KAAK,EAAEzB,WAA1D;AAAuE,IAAA,QAAQ,EAAEyB,kBAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CAJJ,CANH,EAYIE,OAAO,CAACC,GAAR,CAAYtB,MAAZ,CAZJ,EAaIA,MAAM,CAACwC,GAAP,CAAW,CAACf,IAAD,EAAOgB,GAAP,kBAGR;AAAI,IAAA,GAAG,EAAEA,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,EAAE,EAAC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgBhB,IAAI,CAACvC,KAArB,CADJ,eAEI;AAAI,IAAA,EAAE,EAAC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgBuC,IAAI,CAACtC,KAArB,CAFJ,eAGI;AAAI,IAAA,EAAE,EAAC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAcsC,IAAI,CAACrC,GAAnB,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAS,IAAA,OAAO,EAAE,MAAIoB,UAAU,CAACiB,IAAD,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAJ,CAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,QAA3B;AAAoC,IAAA,OAAO,EAAE,MAAIhB,YAAY,CAACgB,IAAD,CAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CALJ,CAHH,CAbJ,eA4Bb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAK;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,OAAxB;AAAgC,IAAA,KAAK,EAAEvC,KAAvC;AAA8C,IAAA,QAAQ,EAAE2B,WAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAL,CAFpB,eAGoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,OAAxB;AAAgC,IAAA,KAAK,EAAE1B,KAAvC;AAA8C,IAAA,QAAQ,EAAE8B,WAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CAHpB,eAIoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,KAAxB;AAA8B,IAAA,KAAK,EAAE7B,GAArC;AAA0C,IAAA,QAAQ,EAAE8B,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CAJpB,eAKmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,EAAE,EAAC,KAAxB;AAA8B,IAAA,KAAK,EAAER,UAAU,GAAG,QAAH,GAAY,YAA3D;AAAyE,IAAA,OAAO,EAAEH,YAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CALnB,eAMmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,eAA3B;AAA2C,IAAA,OAAO,EAAEI,YAApD;AAAkE,IAAA,QAAQ,EAAEC,SAAS,GAAG,MAAH,GAAY,EAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CANnB,CA5Ba,CAHL,CADJ;AA4CH","sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport {AppContext} from './Context'\r\n\r\n\r\nconst initialPerson=[\r\n    {id:0, fname:'Tedros', lname:'Tesfay', age:30},\r\n    {id:1, fname:'aaa', lname:'BBB', age:30},\r\n    {id:2, fname:'CCC', lname:'DDD', age:30},\r\n    {id:3, fname:'EEE', lname:'Tesfay', age:30},                  \r\n]\r\n\r\nexport default function PersonLists() {\r\n\r\n    const [searchByFName, setSearchByFName]=useState('')\r\n    const [searchByLName, setSearchByLName]=useState('')\r\n    const [searchByAge, setSearchByAge]=useState(0)\r\n    const [sortToggle, setSortToggle]=useState(true)\r\n    const [sortIcon, setSortIcon]=useState(true)\r\n\r\n    const [person, setPerson, personFinal, setPersonFinal, fname, setFname,lname, setLname,age,setAge,\r\n    addNewPerson, editPerson, deletePesron, saveToggle, cancelUpdate, cancelBtn]=useContext(AppContext)\r\n\r\n\r\n    const handleFname=e=>{\r\n        setFname(e.target.value)\r\n    }\r\n\r\n    const handelLname=e=>{\r\n        setLname(e.target.value)\r\n    }\r\n    const handelAge=e=>{\r\n        setAge(e.target.value)\r\n    }\r\n\r\n    const  handleSearchByName=(e)=>{\r\n       // alert(e.target.id)\r\n        if(e.target.id==\"searchfname\")\r\n        setSearchByFName(e.target.value)\r\n        \r\n        if(e.target.id==\"searchlname\")\r\n        setSearchByLName(e.target.value)\r\n\r\n        if(e.target.id==\"searchage\")\r\n        setSearchByAge(e.target.value)\r\n        \r\n    }\r\n\r\n    const  handleFilter=(e)=>{\r\n            //alert(e.target.id)\r\n            console.log(personFinal)\r\n            if(e.target.value==\"\"){\r\n                setPerson(personFinal)\r\n                return;\r\n            }\r\n            let filteredPersons;\r\n            switch(e.target.id){\r\n                case \"searchfname\":\r\n                    filteredPersons= personFinal.filter(item=>item.fname.includes(e.target.value))\r\n                    break; \r\n                case \"searchlname\":\r\n                    filteredPersons= personFinal.filter(item=>item.lname.includes(e.target.value))\r\n                    break;               \r\n                case \"searchage\":\r\n                    filteredPersons= personFinal.filter(item=>item.age==e.target.value)\r\n                    break;\r\n            }\r\n            setPerson(filteredPersons) \r\n    }\r\n\r\n\r\n    const sortPersonList=(feildName)=>{\r\n        let  sortedData;\r\n        setSortToggle(!sortToggle)\r\n        setSortIcon(!sortIcon)\r\n        if(sortToggle==true){\r\n            if(feildName==='age')\r\n            sortedData= person.sort((a, b) => (Number(a[feildName]) > Number(b[feildName])) ? 1 : -1)\r\n            else\r\n            sortedData= person.sort((a, b) => (a[feildName].toUpperCase() > b[feildName].toUpperCase()) ? 1 : -1)\r\n         //sortedData=person.sort((a, b)=> a.fname - b.fname)\r\n        }\r\n          \r\n       if(sortToggle==false){\r\n        if(feildName==='age')\r\n        sortedData= person.sort((a, b) => (Number(a[feildName]) < Number(b[feildName])) ? 1 : -1)\r\n        else\r\n        sortedData= person.sort((a, b) => (a[feildName].toUpperCase() < b[feildName].toUpperCase()) ? 1 : -1)\r\n        //sortedData=person.sort((a, b)=> b.fname - a.fname)\r\n       }\r\n        setPerson(sortedData)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n            // to do side effect when Dom changes \r\n            useEffect(()=>{\r\n\r\n            //call it later after performing the DOM updates.\r\n            //By default, it runs both after the first render and after every update.\r\n            //Mounting, Rendering or    after render\r\n            setPerson(person)\r\n           \r\n            // React performs the cleanup when the component unmounts.\r\n            return()=>{\r\n                // document.getElementById('searchfname').removeEventListener(\"keyup\", handlechange)\r\n                 //setPerson(person)\r\n            }\r\n        },[person, sortToggle])\r\n\r\n        useEffect(() => {\r\n            \r\n            document.getElementById('searchfname').addEventListener(\"keyup\", handleFilter)\r\n            document.getElementById('searchlname').addEventListener(\"keyup\", handleFilter)\r\n            document.getElementById('searchage').addEventListener(\"keyup\", handleFilter)\r\n            \r\n            return () => {\r\n             document.getElementById('searchfname').removeEventListener(\"keyup\", handleFilter)\r\n             document.getElementById('searchlname').removeEventListener(\"keyup\", handleFilter)\r\n             document.getElementById('searchage').removeEventListener(\"keyup\", handleFilter)\r\n                \r\n            }\r\n        }, [searchByFName])\r\n\r\n        useEffect(()=>{\r\n            setPerson(initialPerson)\r\n            console.log(person.slice(0,2))\r\n            console.log(person)\r\n            console.log(cancelBtn)\r\n        },[])\r\n\r\n\r\n    return (\r\n        <div>\r\n             <h5>React Table with Full Functionality</h5>\r\n\r\n             <table border=\"1\" width=\"100px\">\r\n                <tr>\r\n                    <th><button onClick={()=>sortPersonList('fname')}><i class={`fa fa-sort-${sortIcon? 'asc' : 'desc'}`}></i>Fname</button></th>\r\n                    <th><button onClick={()=>sortPersonList('lname')}><i class={`fa fa-sort-${sortIcon? 'asc' : 'desc'}`}></i>Lname</button></th>\r\n                    <th><button onClick={()=>sortPersonList('age')}><i class={`fa fa-sort-${sortIcon? 'asc' : 'desc'}`}></i>Age</button></th>\r\n                </tr>\r\n                <tr>\r\n                    \r\n                    <th>  <input type=\"text\" id=\"searchfname\" name=\"searchfname\" value={searchByFName} onChange={handleSearchByName} /></th>\r\n                    <th><input type=\"text\" id=\"searchlname\" name=\"searchlname\" value={searchByLName} onChange={handleSearchByName} /></th>\r\n                    <th><input type=\"text\" id=\"searchage\" name=\"searchage\" value={searchByAge} onChange={handleSearchByName} /></th>\r\n                </tr>\r\n                {console.log(person)}\r\n                {person.map((item, key)=>\r\n            (  \r\n               \r\n                    <tr key={key}>\r\n                        <td id=\"fname\">{item.fname}</td>\r\n                        <td id=\"lname\">{item.lname}</td>\r\n                        <td id=\"age\">{item.age}</td>\r\n                        <td><button  onClick={()=>editPerson(item)} >Edit</button></td> \r\n                        <td><input type=\"button\" value=\"Delete\" onClick={()=>deletePesron(item)} /></td> \r\n                    \r\n                    </tr>\r\n\r\n                )\r\n                )}\r\n\r\n<tr>\r\n                    \r\n                    <th> <input type=\"text\" name=\"fname\" value={fname} onChange={handleFname} /></th>\r\n                    <th><input type=\"text\" name=\"lname\" value={lname} onChange={handelLname} /></th>\r\n                    <th><input type=\"text\" name=\"age\" value={age} onChange={handelAge} /></th>\r\n                   <th><input type=\"button\" id=\"add\" value={saveToggle ? 'Update':'Add Person'} onClick={addNewPerson} /></th> \r\n                   <th><input type=\"button\" value=\"Cancel Update\" onClick={cancelUpdate} disabled={cancelBtn ? 'true' : ''} /></th> \r\n                </tr>\r\n            </table>\r\n            \r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}